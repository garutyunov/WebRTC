# Решение проблем с камерой и микрофоном

## Ошибка "NotReadableError: Could not start video source"

Эта ошибка означает, что камера недоступна или занята другим приложением.

### Возможные причины и решения:

#### 1. Камера занята другим приложением
- ✅ Закройте все программы, которые могут использовать камеру (Zoom, Teams, Skype, Discord)
- ✅ Закройте другие вкладки браузера с видеозвонками
- ✅ Перезапустите браузер

#### 2. Разрешения браузера
- ✅ Убедитесь что разрешен доступ к камере и микрофону
- ✅ В Chrome: нажмите на иконку камеры в адресной строке
- ✅ Выберите "Всегда разрешать доступ к камере и микрофону"

#### 3. Системные разрешения (Windows)
- ✅ Откройте Настройки Windows → Конфиденциальность → Камера
- ✅ Убедитесь что включен "Разрешить приложениям доступ к камере"
- ✅ Убедитесь что браузер в списке разрешенных приложений

#### 4. Аппаратные проблемы
- ✅ Проверьте подключение веб-камеры
- ✅ Обновите драйверы камеры
- ✅ Попробуйте другую камеру

### Новая функциональность приложения:

✅ **Автоматический fallback на audio-only**
- Если камера недоступна, приложение автоматически переключится на аудио
- Появится уведомление: "Камера недоступна, используем только аудио"
- Звонок продолжится с аудио связью

✅ **Детальная диагностика**
- В консоли браузера показываются подробные логи ошибок
- Разные сообщения для разных типов ошибок

### Тестирование:

1. **Если камера работает:**
   ```
   ✅ Got video + audio stream
   ```

2. **Если камера не работает, но микрофон есть:**
   ```
   ⚠️ Video failed, trying audio only: [error]
   ✅ Got audio-only stream
   ```

3. **Если ничего не работает:**
   ```
   ❌ Both video and audio failed: [error]
   ```

### Быстрое тестирование доступа к медиа:

Откройте консоль браузера (F12) и выполните:

```javascript
// Тест камеры и микрофона
navigator.mediaDevices.getUserMedia({ video: true, audio: true })
  .then(stream => {
    console.log('✅ Камера и микрофон работают');
    stream.getTracks().forEach(track => track.stop());
  })
  .catch(err => {
    console.log('❌ Ошибка:', err.name, err.message);
  });
```

### Альтернативные браузеры:
Если проблема не решается в Chrome, попробуйте:
- Firefox
- Edge
- Safari (на Mac)

### Для разработчиков:
Приложение теперь поддерживает graceful degradation:
- Video + Audio (идеальный сценарий)
- Audio only (fallback)
- Показ понятных ошибок пользователю
